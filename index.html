<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuminaBooks | The Infinite Digital Library</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --brand-orange: #d97706;
            --bg-cream: #FFFCF8;
        }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-cream);
            color: #1e293b;
            scroll-behavior: smooth;
        }
        .font-serif { font-family: 'Crimson Pro', serif; }
        .book-card:hover { transform: translateY(-8px); }
        .glass-nav { background: rgba(255, 252, 248, 0.9); backdrop-filter: blur(16px); }
        .gradient-text { background: linear-gradient(135deg, #d97706 0%, #92400e 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .badge-free { background: #dcfce7; color: #15803d; border: 1px solid #bbf7d0; }
        .badge-paid { background: #fff7ed; color: #b45309; border: 1px solid #ffedd5; }
        
        .hero-pattern {
            background-color: #fffcf8;
            background-image: radial-gradient(#fed7aa 0.5px, transparent 0.5px);
            background-size: 24px 24px;
        }

        /* Chatbot Custom Styles */
        #chatbot-window {
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .chat-bubble-user { background: #fef3c7; border-radius: 1.25rem 1.25rem 0 1.25rem; }
        .chat-bubble-bot { background: #f1f5f9; border-radius: 1.25rem 1.25rem 1.25rem 0; }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
    </style>
</head>
<body class="overflow-x-hidden">

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 glass-nav border-b border-orange-100">
        <div class="max-w-[1400px] mx-auto px-6 h-20 flex items-center justify-between">
            <div class="flex items-center gap-3 cursor-pointer group" onclick="switchView('home')">
                <div class="p-2.5 bg-amber-600 rounded-xl group-hover:rotate-12 transition-transform shadow-lg shadow-amber-200">
                    <i data-lucide="book-open" class="text-white w-6 h-6"></i>
                </div>
                <span class="text-2xl font-serif font-bold tracking-tight text-slate-800">Lumina<span class="text-amber-600">Books</span></span>
            </div>
            
            <div class="hidden lg:flex items-center gap-8 text-sm font-bold tracking-wide">
                <button onclick="switchView('home')" class="text-amber-700 transition-all flex items-center gap-2">Explore</button>
                <button onclick="switchView('library')" class="text-slate-500 hover:text-amber-600 transition-all">My Library</button>
                <button onclick="scrollToSearch()" class="text-slate-500 hover:text-amber-600 transition-all">Free Books</button>
                <button onclick="switchView('publish')" class="text-slate-500 hover:text-amber-600 transition-all">Publish</button>
            </div>

            <div class="flex items-center gap-4">
                <div id="user-profile" class="hidden flex items-center gap-4 bg-orange-50/50 py-1.5 pl-4 pr-1.5 rounded-full border border-orange-100">
                    <span class="text-slate-700 text-sm font-medium">Reader</span>
                    <button onclick="toggleAuth(false)" class="p-2 bg-white text-slate-400 hover:text-red-500 rounded-full transition-all shadow-sm">
                        <i data-lucide="log-out" class="w-4 h-4"></i>
                    </button>
                </div>
                <button id="auth-btn" onclick="openModal('auth')" class="px-6 py-2.5 bg-slate-900 hover:bg-amber-700 text-white text-sm font-bold rounded-full transition-all shadow-lg shadow-slate-200">Sign In</button>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section id="hero-section" class="pt-32 pb-20 hero-pattern">
        <div class="max-w-[1400px] mx-auto px-6 grid lg:grid-cols-2 gap-12 items-center">
            <div class="space-y-8">
                <div class="inline-flex items-center gap-2 px-4 py-2 bg-amber-50 text-amber-700 rounded-full text-xs font-bold border border-amber-100">
                    <span class="relative flex h-2 w-2">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-amber-500"></span>
                    </span>
                    Join 50k+ readers worldwide
                </div>
                <h1 class="text-6xl md:text-7xl font-serif font-bold text-slate-900 leading-[1.1]">
                    Your Gateway to <br><span class="gradient-text">Infinite Wisdom.</span>
                </h1>
                <p class="text-lg text-slate-500 max-w-lg leading-relaxed">
                    Explore a curated collection of thousands of digital books. From rare classics to modern masterpieces, read for free or support authors directly.
                </p>
                <div class="flex flex-wrap gap-4 pt-4">
                    <button onclick="scrollToSearch()" class="px-8 py-4 bg-amber-600 hover:bg-slate-900 text-white font-bold rounded-2xl transition-all shadow-xl shadow-amber-200 flex items-center gap-3">
                        Browse Library <i data-lucide="arrow-right" class="w-5 h-5"></i>
                    </button>
                    <button onclick="switchView('publish')" class="px-8 py-4 bg-white border-2 border-orange-100 text-slate-800 font-bold rounded-2xl hover:bg-orange-50 transition-all">
                        Publish Your Work
                    </button>
                </div>
            </div>
            <div class="relative hidden lg:block">
                <img src="https://images.unsplash.com/photo-1512820790803-83ca734da794?q=80&w=800" class="relative z-10 rounded-[3rem] shadow-2xl rotate-2 hover:rotate-0 transition-transform duration-700" alt="Library">
            </div>
        </div>
    </section>

    <main class="max-w-[1400px] mx-auto px-6 pb-32">
        <!-- HOME VIEW -->
        <div id="home-view">
            <div class="flex flex-col lg:flex-row gap-10 mt-12">
                <aside class="lg:w-64 flex-shrink-0">
                    <div class="sticky top-28 space-y-8">
                        <div>
                            <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2">
                                <i data-lucide="filter" class="w-[14px] h-[14px]"></i> Pricing Model
                            </h3>
                            <div class="flex flex-col gap-2 mb-8">
                                <button onclick="setAccessFilter('all')" id="filter-all" class="text-left px-4 py-2.5 rounded-xl text-sm font-bold bg-amber-600 text-white shadow-md">Everything</button>
                                <button onclick="setAccessFilter('free')" id="filter-free" class="text-left px-4 py-2.5 rounded-xl text-sm font-bold text-slate-600 hover:bg-orange-50">Free Access</button>
                                <button onclick="setAccessFilter('paid')" id="filter-paid" class="text-left px-4 py-2.5 rounded-xl text-sm font-bold text-slate-600 hover:bg-orange-50">Premium (₹)</button>
                            </div>

                            <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-6 flex items-center gap-2">
                                <i data-lucide="grid" class="w-[14px] h-[14px]"></i> Genre
                            </h3>
                            <div id="category-list" class="space-y-1"></div>
                        </div>
                    </div>
                </aside>

                <div class="flex-grow">
                    <div id="search-anchor" class="mb-12 scroll-mt-28">
                        <form onsubmit="handleSearch(event)" class="relative group">
                            <i data-lucide="search" class="absolute left-8 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-amber-600 transition-colors"></i>
                            <input id="search-input" type="text" placeholder="Search by title, author or ISBN..." 
                                class="w-full h-20 pl-20 pr-40 bg-white border border-orange-100 rounded-[2.5rem] shadow-xl shadow-orange-100/20 focus:outline-none focus:ring-4 focus:ring-amber-50 transition-all text-lg"
                            />
                            <button type="submit" class="absolute right-3 top-3 bottom-3 px-10 bg-slate-900 hover:bg-amber-700 text-white font-bold rounded-[2rem] transition-all">Search</button>
                        </form>
                    </div>

                    <div id="loading-state" class="hidden grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                        <div class="animate-pulse bg-orange-50/50 aspect-[3/4.2] rounded-[2.5rem]"></div>
                        <div class="animate-pulse bg-orange-50/50 aspect-[3/4.2] rounded-[2.5rem]"></div>
                    </div>

                    <div id="book-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"></div>

                    <div id="load-more-container" class="flex justify-center pt-16">
                        <button id="load-more-btn" onclick="loadMore()" class="group flex items-center gap-3 px-12 py-5 bg-white border-2 border-orange-100 text-slate-800 font-bold rounded-[2rem] hover:bg-slate-900 hover:text-white transition-all shadow-sm">
                            <i data-lucide="chevron-down" class="group-hover:translate-y-1 transition-transform"></i> Load More Results
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- LIBRARY VIEW -->
        <div id="library-view" class="hidden space-y-12 py-12">
            <h1 class="text-5xl font-serif font-bold text-slate-900">Personal Shelf</h1>
            <div id="saved-books-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-8"></div>
        </div>

        <!-- PUBLISH VIEW -->
        <div id="publish-view" class="hidden max-w-4xl mx-auto py-12">
            <div class="bg-white border border-orange-100 rounded-[3rem] p-12 shadow-2xl">
                <h1 class="text-4xl font-serif font-bold mb-6">Author Portal</h1>
                <form onsubmit="handlePublish(event)" class="space-y-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <input type="text" placeholder="Book Title" class="w-full bg-orange-50/30 border border-orange-100 rounded-2xl px-6 py-4 outline-none" required>
                        <select class="w-full bg-orange-50/30 border border-orange-100 rounded-2xl px-6 py-4 outline-none">
                            <option value="Free">List for Free</option>
                            <option value="Paid">Premium (₹)</option>
                        </select>
                    </div>
                    <button type="submit" class="w-full py-5 bg-slate-900 text-white font-bold rounded-2xl hover:bg-amber-600 transition-all">Submit Work</button>
                </form>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="bg-slate-900 text-white py-20">
        <div class="max-w-[1400px] mx-auto px-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 text-center md:text-left">
            <div>
                <span class="text-2xl font-serif font-bold mb-4 block">LuminaBooks</span>
                <p class="text-slate-400">Your digital library for the modern era.</p>
            </div>
        </div>
    </footer>

    <!-- CHATBOT -->
    <div class="fixed bottom-6 right-6 z-[1000] flex flex-col items-end">
        <!-- Chat Window -->
        <div id="chatbot-window" class="hidden w-[350px] sm:w-[400px] h-[500px] bg-white rounded-[2.5rem] border border-orange-100 flex flex-col overflow-hidden mb-4 origin-bottom-right">
            <!-- Header -->
            <div class="bg-amber-600 p-6 text-white flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                        <i data-lucide="bot" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h4 class="font-bold text-sm leading-none">Lumina Assistant</h4>
                        <span class="text-[10px] text-amber-100 uppercase tracking-widest font-bold">Online Now</span>
                    </div>
                </div>
                <button onclick="toggleChatbot()" class="p-2 hover:bg-black/10 rounded-full transition-colors">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>

            <!-- Messages Area -->
            <div id="chat-messages" class="flex-grow p-6 overflow-y-auto custom-scrollbar flex flex-col gap-4">
                <div class="chat-bubble-bot p-4 text-sm text-slate-700 max-w-[85%] self-start">
                    Hello! I'm your Lumina Guide. How can I help you explore our library today?
                </div>
            </div>

            <!-- Suggestions -->
            <div id="chat-suggestions" class="px-6 py-2 flex gap-2 overflow-x-auto custom-scrollbar no-scrollbar">
                <button onclick="sendQuickMsg('Show me free books')" class="whitespace-nowrap px-3 py-1.5 bg-orange-50 text-amber-700 text-xs font-bold rounded-full border border-orange-100 hover:bg-orange-100 transition-colors">Free Books</button>
                <button onclick="sendQuickMsg('How to publish?')" class="whitespace-nowrap px-3 py-1.5 bg-orange-50 text-amber-700 text-xs font-bold rounded-full border border-orange-100 hover:bg-orange-100 transition-colors">Publishing</button>
                <button onclick="sendQuickMsg('What is trending?')" class="whitespace-nowrap px-3 py-1.5 bg-orange-50 text-amber-700 text-xs font-bold rounded-full border border-orange-100 hover:bg-orange-100 transition-colors">Trending</button>
            </div>

            <!-- Input -->
            <form onsubmit="handleChatSubmit(event)" class="p-4 border-t border-slate-100 flex gap-2">
                <input id="chat-input" type="text" placeholder="Ask me anything..." class="flex-grow bg-slate-50 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-amber-500 outline-none">
                <button type="submit" class="bg-amber-600 text-white p-3 rounded-xl hover:bg-slate-900 transition-colors">
                    <i data-lucide="send" class="w-5 h-5"></i>
                </button>
            </form>
        </div>

        <!-- Chat Trigger Button -->
        <button onclick="toggleChatbot()" class="w-16 h-16 bg-amber-600 text-white rounded-full flex items-center justify-center shadow-2xl shadow-amber-200 hover:scale-110 transition-transform active:scale-95">
            <i data-lucide="message-circle" id="chat-icon-open" class="w-8 h-8"></i>
            <i data-lucide="chevron-down" id="chat-icon-close" class="hidden w-8 h-8"></i>
        </button>
    </div>

    <!-- Modals & Toasts -->
    <div id="contact-modal" class="hidden fixed inset-0 z-[500] flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-slate-950/90 backdrop-blur-sm" onclick="closeContactModal()"></div>
        <div class="relative bg-white w-full max-w-lg rounded-[3rem] p-12 shadow-2xl">
            <h2 class="text-3xl font-serif font-bold text-slate-900 mb-4">Inquiry</h2>
            <p id="inquiry-title" class="text-slate-500 mb-6"></p>
            <form onsubmit="handleContactAdmin(event)" class="space-y-4">
                <input type="text" placeholder="Name" class="w-full bg-orange-50 rounded-2xl px-6 py-4 outline-none border border-orange-100">
                <button type="submit" class="w-full py-5 bg-amber-600 text-white font-bold rounded-2xl">Submit</button>
            </form>
        </div>
    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 z-[1100] translate-y-20 opacity-0 transition-all bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-3">
        <i data-lucide="check" class="text-amber-500 w-5 h-5"></i>
        <span id="toast-msg">Success</span>
    </div>

 <script src="script.js"></script>
</body>
</html>